(this.webpackJsonpsalary=this.webpackJsonpsalary||[]).push([[0],{112:function(e,t,i){},113:function(e,t,i){},184:function(e,t,i){"use strict";i.r(t);var a=i(0),s=i.n(a),r=i(28),n=i.n(r);i(111);const l=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function o(e,t){navigator.serviceWorker.register(e).then((e=>{e.onupdatefound=()=>{const i=e.installing;null!=i&&(i.onstatechange=()=>{"installed"===i.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((e=>{console.error("Error during service worker registration:",e)}))}i(112);var u=i(189),c=i(187),h=i(190),d=i(188),v=(i(113),i(32)),f=i.n(v);function w(e){const{title:t,factors:i}=e;return t===m.Salesman?0:t===m.FullTime?function(e){const t=e.reduce(((e,t)=>e+(t.value>0?t.value:0)),0),i=(a=t,a>100?120:a>80?100:a>60?90:a>40?80:a>30?70:a>20?60:0);var a;let s=y[m.FullTime];const r=i*(t-s);let n=e.find((e=>"GroupCourse"===e.id));n.value>0&&(n.value>s?(n.earned=((n.value-s)*i).toFixed(2),s=0):(s-=n.value,n.earned="0.00"));n=e.find((e=>"SmallCourse"===e.id)),n.value>0&&(n.value>s?(n.earned=((n.value-s)*i).toFixed(2),s=0):(s-=n.value,n.earned="0.00"));n=e.find((e=>"PrivateCourse"===e.id)),n.value>0&&(n.value>s?(n.earned=((n.value-s)*i).toFixed(2),s=0):(s-=n.value,n.earned="0.00"));return r}(i.filter((e=>"Course"===e.category))):t===m.HalfTime?function(e){const t=e.reduce(((e,t)=>e+(t.value>0?t.value:0)),0),i=(a=t,a>100?120:a>80?100:a>60?90:a>50?80:a>40?70:a>30?60:100);var a;let s=y[m.HalfTime];if(t>s){const a=i*(t-s);let r=e.find((e=>"GroupCourse"===e.id));return r.value>0&&(r.value>s?(r.earned=((r.value-s)*i).toFixed(2),s=0):(s-=r.value,r.earned="0.00")),r=e.find((e=>"SmallCourse"===e.id)),r.value>0&&(r.value>s?(r.earned=((r.value-s)*i).toFixed(2),s=0):(s-=r.value,r.earned="0.00")),r=e.find((e=>"PrivateCourse"===e.id)),r.value>0&&(r.value>s?(r.earned=((r.value-s)*i).toFixed(2),s=0):(s-=r.value,r.earned="0.00")),a}{const a=i*t;let r=e.find((e=>"GroupCourse"===e.id));return r.earned=(r.value*i).toFixed(2),r=e.find((e=>"SmallCourse"===e.id)),r.value>0&&(r.value>s?(r.earned=((r.value-s)*i).toFixed(2),s=0):(s-=r.value,r.earned=(100*r.value).toFixed(2))),r=e.find((e=>"PrivateCourse"===e.id)),r.value>0&&(r.value>s?(r.earned=((r.value-s)*i).toFixed(2),s=0):(s-=r.value,r.earned=(100*r.value).toFixed(2))),a}}(i.filter((e=>"Course"===e.category))):t===m.Director?function(e){let t=0,i=y[m.Director],a=e.find((e=>"GroupCourse"===e.id));if(a.value>0)if(a.value>i){const e=70*(a.value-i);a.earned=e.toFixed(2),t+=e,i=0}else i-=a.value,a.earned="0.00";if(a=e.find((e=>"SmallCourse"===e.id)),a.value>0)if(a.value>i){const e=80*(a.value-i);a.earned=e.toFixed(2),t+=e,i=0}else i-=a.value,a.earned="0.00";if(a=e.find((e=>"PrivateCourse"===e.id)),a.value>0)if(a.value>i){const e=90*(a.value-i);a.earned=e.toFixed(2),t+=e,i=0}else i-=a.value,a.earned="0.00";return t}(i):i.filter((e=>"Course"===e.category)).reduce(((t,i)=>{const a=i.GetEarned(e);return i.earned=a.toFixed(2),t+a}),0)}let m;!function(e){e.Director="Director",e.FullTime="FullTime",e.HalfTime="HalfTime",e.PartTime="PartTime",e.Salesman="Salesman",e.Civilian="Civilian"}(m||(m={}));class p{constructor({factors:e,...t}){this.employee="",this.title=m.FullTime,this.date=f()(),this.salary="0.00",this.factors=[],void 0!==t&&(Object.assign(this,t),e&&(this.factors=e.map((e=>function(e,t){"string"===typeof t&&(t=parseFloat(t));(isNaN(t)||t<=0)&&(t=0);switch(e){case"TotalSales":return new b(t);case"PerformanceA":return new C(t);case"PerformanceB":return new j(t);case"CourseCommission":return new F(t);case"GroupCourse":return new x(t);case"SmallCourse":return new S(t);case"PrivateCourse":return new O(t);case"EduTrainCourse":return new T(t);case"LearningSubsidy":return new P(t);case"OtherSubsidy":return new E(t);case"OnDuty":return new G(t);case"SickLeave":return new k(t);case"CompassionateLeave":return new N(t);case"LateForWork":return new D(t);case"Absenteeism":return new I(t);case"OtherDeduction":return new L(t);default:return null}}(e.id,e.value))).filter((e=>null!==e)))),0===this.factors.length&&(this.factors=H(this.title))}CalcSalary(){let e=w(this);if(this.title===m.HalfTime){this.factors.filter((e=>"Course"===e.category)).reduce(((e,t)=>e+(t.value>0?t.value:0)),0)>=y[m.HalfTime]&&(e+=g[this.title])}e+=this.factors.filter((e=>"Course"!==e.category)).reduce(((e,t)=>{const i=t.GetEarned(this);return t.earned=i.toFixed(2),e+i}),0),this.salary=e.toFixed(2)}}const g={Director:4e3,FullTime:3e3,HalfTime:3e3,PartTime:0,Salesman:3e3,Civilian:0},y={Director:20,FullTime:20,HalfTime:30,PartTime:0,Salesman:0,Civilian:0};class b{constructor(e){this.id="TotalSales",this.label="\u4e1a\u7ee9",this.unit="\u5143",this.step=.1,this.category="Sales",this.earned="0.00",this.value=void 0,this.value="string"===typeof e?parseFloat(e):e}GetEarned({title:e}){return e!==m.Salesman?0:this.value>=5e4?2e3+.05*this.value:0}}class C{constructor(e){this.id="PerformanceA",this.label="\u4e1a\u7ee9A",this.unit="\u5143",this.step=.1,this.category="Sales",this.earned="0.00",this.value=void 0,this.value="string"===typeof e?parseFloat(e):e}GetEarned({title:e}){return e===m.Salesman?0:.02*this.value}}class j{constructor(e){this.id="PerformanceB",this.label="\u4e1a\u7ee9B",this.unit="\u5143",this.step=.1,this.category="Sales",this.earned="0.00",this.value=void 0,this.value="string"===typeof e?parseFloat(e):e}GetEarned({title:e}){return e===m.Salesman?0:.05*this.value}}class F{constructor(e){this.id="CourseCommission",this.label="\u8bfe\u7a0b\u63d0\u6210",this.unit="\u8282",this.step=1,this.category="Sales",this.earned="0.00",this.value=void 0,this.value="string"===typeof e?parseInt(e,10):e}GetEarned({title:e}){return this.value<=0?0:e===m.Director?3*this.value:0}}class x{constructor(e){this.id="GroupCourse",this.label="\u56e2\u4f53\u8bfe",this.unit="\u8282",this.step=1,this.category="Course",this.earned="0.00",this.value=void 0,this.value="string"===typeof e?parseInt(e,10):e}GetEarned({title:e}){if(e===m.Salesman)return 0;switch(e){case m.Director:return 70*this.value;case m.PartTime:case m.Civilian:return 60*this.value}return 0}}class S{constructor(e){this.id="SmallCourse",this.label="\u5c0f\u73ed\u8bfe",this.unit="\u8282",this.step=1,this.category="Course",this.earned="0.00",this.value=void 0,this.value="string"===typeof e?parseInt(e,10):e}GetEarned({title:e}){if(this.value<=0)return 0;if(e===m.Salesman)return 0;switch(e){case m.Director:return 80*this.value;case m.PartTime:return 70*this.value;case m.Civilian:return 60*this.value}return 0}}class O{constructor(e){this.id="PrivateCourse",this.label="\u79c1\u6559\u8bfe",this.unit="\u8282",this.step=1,this.category="Course",this.earned="0.00",this.value=void 0,this.value="string"===typeof e?parseInt(e,10):e}GetEarned({title:e}){if(e===m.Salesman)return 0;if(this.value<=0)return 0;switch(e){case m.Director:return 90*this.value;case m.PartTime:return 80*this.value;case m.Civilian:return 60*this.value}return 0}}class T{constructor(e){this.id="EduTrainCourse",this.label="\u6559\u57f9\u8bfe",this.unit="\u5c0f\u65f6",this.step=1,this.category="EduCourse",this.earned="0.00",this.value=void 0,this.value="string"===typeof e?parseFloat(e):e}GetEarned({title:e}){return e===m.Salesman||this.value<=0?0:100*this.value}}class P{constructor(e){this.id="LearningSubsidy",this.label="\u5b66\u4e60\u8865\u52a9",this.unit="\u5143",this.step=.1,this.category="Positive",this.earned="0.00",this.value=void 0,this.value="string"===typeof e?parseFloat(e):e}GetEarned(e){return this.value}}class E{constructor(e){this.id="OtherSubsidy",this.label="\u5176\u5b83\u8865\u52a9",this.unit="\u5143",this.step=.1,this.category="Positive",this.earned="0.00",this.value=void 0,this.value="string"===typeof e?parseFloat(e):e}GetEarned(e){return this.value}}class G{constructor(e){this.id="OnDuty",this.label="\u5230\u52e4",this.unit="\u5929",this.step=1,this.category="Positive",this.earned="0.00",this.value=void 0,this.value="string"===typeof e?parseInt(e,10):e}GetEarned({title:e}){return this.value<=0?0:e===m.Civilian?100*this.value:0}}class k{constructor(e){this.id="SickLeave",this.label="\u75c5\u5047",this.unit="\u5c0f\u65f6",this.step=.5,this.category="Negative",this.earned="0.00",this.value=void 0,this.value="string"===typeof e?parseFloat(e):e}GetEarned({title:e}){if(this.value<=0)return 0;if(e===m.PartTime)return 0;if(e===m.Civilian)return-30*this.value/5;const t=g[e];return-.3*this.value*(t/26/8)}}class N{constructor(e){this.id="CompassionateLeave",this.label="\u4e8b\u5047",this.unit="\u5c0f\u65f6",this.step=.5,this.category="Negative",this.earned="0.00",this.value=void 0,this.value="string"===typeof e?parseFloat(e):e}GetEarned({title:e}){if(this.value<=0)return 0;if(e===m.Civilian||e===m.PartTime)return 0;const t=g[e];return-this.value*(t/26/8)}}class D{constructor(e){this.id="LateForWork",this.label="\u8fdf\u5230",this.unit="\u5c0f\u65f6",this.step=.5,this.category="Negative",this.earned="0.00",this.value=void 0,this.value="string"===typeof e?parseFloat(e):e}GetEarned({title:e}){if(this.value<=0)return 0;if(e===m.Civilian)return 20*this.value;const t=g[e];return-this.value*(t/26/8)}}class I{constructor(e){this.id="Absenteeism",this.label="\u65f7\u5de5",this.unit="\u5c0f\u65f6",this.step=.5,this.category="Negative",this.earned="0.00",this.value=void 0,this.value="string"===typeof e?parseFloat(e):e}GetEarned({title:e}){if(this.value<=0)return 0;if(e===m.Civilian||e===m.PartTime)return 0;const t=g[e];return-2*this.value*(t/26/8)}}class L{constructor(e){this.id="OtherDeduction",this.label="\u5176\u5b83\u6263\u9664\u9879",this.unit="\u5143",this.step=.1,this.category="Negative",this.earned="0.00",this.value=void 0,this.value="string"===typeof e?parseFloat(e):e}GetEarned({title:e}){return this.value<=0?0:-this.value}}function H(e){switch(e){case m.Director:return[new C(0),new j(0),new x(0),new S(0),new O(0),new T(0),new P(0),new E(0),new F(0),new k(0),new N(0),new D(0),new I(0),new L(0)];case m.HalfTime:return[new C(0),new j(0),new x(0),new S(0),new O(0),new T(0),new P(0),new E(0),new k(0),new N(0),new D(0),new I(0),new L(0)];case m.PartTime:return[new C(0),new j(0),new x(0),new S(0),new O(0),new T(0),new P(0),new E(0),new L(0)];case m.Salesman:return[new b(0),new P(0),new E(0),new k(0),new N(0),new D(0),new I(0),new L(0)];case m.Civilian:return[new G(0),new C(0),new j(0),new x(0),new S(0),new O(0),new T(0),new P(0),new E(0),new k(0),new D(0),new L(0)];default:return[new C(0),new j(0),new x(0),new S(0),new O(0),new T(0),new P(0),new E(0),new k(0),new N(0),new D(0),new I(0),new L(0)]}}var W=i(11);const{Option:A}=u.a,B=new p({employee:"",salary:"3000.00"}),V=()=>{const[e]=c.a.useForm(),t=()=>{const t=e.getFieldsValue(),i=new p(t);i.CalcSalary(),e.setFieldsValue(i),console.log("".concat(i.employee," \u672c\u6708\u5e94\u53d1 ").concat(i.salary))};return Object(W.jsx)(W.Fragment,{children:Object(W.jsx)("main",{children:Object(W.jsxs)(c.a,{form:e,wrapperCol:{span:24},initialValues:B,onFinish:t,onFinishFailed:e=>{console.log("Failed:",e)},onFieldsChange:t,size:"middle",layout:"inline",children:[Object(W.jsxs)("div",{className:"user-info",children:[Object(W.jsx)(c.a.Item,{name:"employee",className:"username",children:Object(W.jsx)(h.a,{placeholder:"\u59d3\u540d",addonBefore:"\u59d3\u540d"})}),Object(W.jsx)(c.a.Item,{name:"salary",className:"final-salary",children:Object(W.jsx)(h.a,{prefix:"\u5b9e\u53d1\u85aa\u8d44",suffix:"\u5143",readOnly:!0})})]}),Object(W.jsxs)("div",{className:"base-info",children:[Object(W.jsx)(c.a.Item,{name:"title",className:"base-title",children:Object(W.jsxs)(u.a,{onChange:t=>{e.setFieldsValue({title:t,factors:H(t)})},children:[Object(W.jsx)(A,{value:"Director",children:"\u8bfe\u7a0b\u603b\u76d1/\u5e97\u957f\u8001\u5e08"}),Object(W.jsx)(A,{value:"FullTime",children:"\u5168\u804c\u8001\u5e08"}),Object(W.jsx)(A,{value:"HalfTime",children:"\u534a\u804c\u8001\u5e08"}),Object(W.jsx)(A,{value:"PartTime",children:"\u517c\u804c\u8001\u5e08"}),Object(W.jsx)(A,{value:"Salesman",children:"\u9500\u552e\u4eba\u5458"}),Object(W.jsx)(A,{value:"Civilian",children:"\u6587\u804c\u4eba\u5458"})]})}),Object(W.jsx)(c.a.Item,{name:"date",className:"base-date",children:Object(W.jsx)(d.a,{})})]}),Object(W.jsx)(c.a.List,{name:"factors",children:t=>Object(W.jsx)(W.Fragment,{children:t.map((({key:t,name:i,fieldKey:a},s)=>{const r=e.getFieldValue("factors")[s];return Object(W.jsxs)("div",{className:"factor-item ".concat(r.category),children:[Object(W.jsx)(c.a.Item,{name:[i,"value"],fieldKey:[a,"value"],labelCol:{span:9},wrapperCol:{span:24},className:"factor-input",children:Object(W.jsx)(h.a,{addonBefore:r.label,suffix:r.unit,autoComplete:"off",type:"number",step:r.step,min:0})}),Object(W.jsx)(c.a.Item,{name:[i,"earned"],fieldKey:[a,"earned"],className:"factor-output",wrapperCol:{span:24},children:Object(W.jsx)(h.a,{suffix:"\u5143",autoComplete:"off",disabled:!0})})]},t)}))})})]})})})};n.a.render(Object(W.jsx)(s.a.StrictMode,{children:Object(W.jsx)(V,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(()=>{const t="".concat("","/service-worker.js");l?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((i=>{const a=i.headers.get("content-type");404===i.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((e=>{e.unregister().then((()=>{window.location.reload()}))})):o(e,t)})).catch((()=>{console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((()=>{console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):o(t,e)}))}}()}},[[184,1,2]]]);
//# sourceMappingURL=main.62eb5a48.chunk.js.map