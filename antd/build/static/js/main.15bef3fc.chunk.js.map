{"version":3,"sources":["models/UserInfo.ts","models/SalaryCalculator.ts","models/SalaryFactor.ts","App.tsx","reportWebVitals.ts","index.tsx"],"names":["EmployeeTitle","GetCourseSalary","user","title","factors","Salesman","FullTime","course","exCourse","BaseCourse","CalcFullCourseSalary","filter","f","category","reduce","prev","cur","value","HalfTime","CalcHalfTimeCourseSalary","Director","total","rest","factor","find","id","CalcDirectorCourseSalary","GetEarned","UserInfo","data","employee","date","moment","salary","undefined","Object","assign","this","map","factorId","TotalSales","PerformanceA","PerformanceB","CourseCommission","GroupCourse","SmallCourse","PrivateCourse","EduTrainCourse","LearningSubsidy","OtherSubsidy","OnDuty","SickLeave","CompassionateLeave","LateForWork","Absenteeism","OtherDeduction","CreateFactorInstance","length","BuildFactors","courseSalary","BaseSalary","PartTime","Civilian","label","unit","parseInt","userInfo","baseSalary","Option","Select","initValue","App","Form","useForm","form","labelCol","span","wrapperCol","initialValues","onFinish","values","getFieldsValue","CalcSalary","setFieldsValue","console","log","onFinishFailed","errorInfo","Item","name","rules","required","placeholder","type","message","onChange","List","index","key","fieldKey","getFieldValue","suffix","autoComplete","offset","htmlType","readOnly","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.15bef3fc.chunk.js","sourcesContent":["import moment from \"moment\";\r\nimport { BuildFactors } from \".\";\r\n\r\nimport { GetCourseSalary } from \"./SalaryCalculator\";\r\nimport { CreateFactorInstance, SalaryFactor } from \"./SalaryFactor\";\r\n\r\nexport enum EmployeeTitle {\r\n  /**\r\n   * 课程总监/店长老师\r\n   */\r\n  Director = \"Director\",\r\n  /**\r\n   * 全职老师\r\n   */\r\n  FullTime = \"FullTime\",\r\n  /**\r\n   * 半职老师\r\n   */\r\n  HalfTime = \"HalfTime\",\r\n  /**\r\n   * 兼职老师\r\n   */\r\n  PartTime = \"PartTime\",\r\n  /**\r\n   * 销售人员\r\n   */\r\n  Salesman = \"Salesman\",\r\n  /**\r\n   * 文职人员\r\n   */\r\n  Civilian = \"Civilian\",\r\n}\r\n\r\nexport class UserInfo {\r\n  public employee: string = \"\";\r\n  public title: EmployeeTitle = EmployeeTitle.FullTime;\r\n  public date: moment.Moment = moment();\r\n  public salary: number = 0;\r\n  public factors: SalaryFactor[] = [];\r\n\r\n  constructor({factors, ...data}: Partial<UserInfo>) {\r\n    if (data !== undefined) {\r\n      Object.assign(this, data);\r\n      if (factors) {\r\n        this.factors = factors.map(f => CreateFactorInstance(f.id, f.value)!).filter(f => f !== null);\r\n      }\r\n    }\r\n    if (this.factors.length === 0) {\r\n      this.factors = BuildFactors(this.title);\r\n    }\r\n  }\r\n\r\n  public CalcSalary(): void {\r\n    const courseSalary = GetCourseSalary(this);\r\n\r\n    this.salary =\r\n      BaseSalary[this.title] +\r\n      courseSalary +\r\n      this.factors\r\n        .filter((f) => f.category !== \"Course\")\r\n        .reduce((prev, cur) => prev + cur.GetEarned(this), 0);\r\n  }\r\n}\r\n\r\n\r\nexport const BaseSalary: { [key: string]: number } = {\r\n  Director: 4000.0,\r\n  FullTime: 3000.0,\r\n  HalfTime: 3000.0,\r\n  PartTime: 0,\r\n  Salesman: 3000.0,\r\n  Civilian: 0,\r\n};\r\n\r\nexport const BaseCourse: { [key: string]: number } = {\r\n  Director: 20,\r\n  FullTime: 20,\r\n  HalfTime: 30,\r\n  PartTime: 0,\r\n  Salesman: 0,\r\n  Civilian: 0,\r\n};\r\n","import { BaseCourse } from \".\";\r\nimport {\r\n  Absenteeism,\r\n  CompassionateLeave,\r\n  CourseCommission,\r\n  EduTrainCourse,\r\n  GroupCourse,\r\n  LateForWork,\r\n  LearningSubsidy,\r\n  OnDuty,\r\n  OtherDeduction,\r\n  OtherSubsidy,\r\n  PerformanceA,\r\n  PerformanceB,\r\n  PrivateCourse,\r\n  SalaryFactor,\r\n  SickLeave,\r\n  SmallCourse,\r\n  TotalSales,\r\n} from \"./SalaryFactor\";\r\nimport { EmployeeTitle, UserInfo } from \"./UserInfo\";\r\n\r\nexport function GetCourseSalary(user: UserInfo): number {\r\n  const { title, factors } = user;\r\n  if (title === EmployeeTitle.Salesman) return 0;\r\n\r\n  if (title === EmployeeTitle.FullTime) {\r\n    return CalcFullCourseSalary(\r\n      factors\r\n        .filter((f) => f.category === \"Course\")\r\n        .reduce((prev, cur) => prev + (cur.value > 0 ? cur.value : 0), 0)\r\n    );\r\n  }\r\n  if (title === EmployeeTitle.HalfTime) {\r\n    return CalcHalfTimeCourseSalary(\r\n      factors\r\n        .filter((f) => f.category === \"Course\")\r\n        .reduce((prev, cur) => prev + (cur.value > 0 ? cur.value : 0), 0)\r\n    );\r\n  }\r\n  if (title === EmployeeTitle.Director) {\r\n    return CalcDirectorCourseSalary(factors);\r\n  }\r\n  return factors\r\n    .filter((f) => f.category === \"Course\")\r\n    .reduce((prev, cur) => prev + cur.GetEarned(user), 0);\r\n}\r\n\r\nfunction CalcDirectorCourseSalary(factors: SalaryFactor[]): number {\r\n  let total = 0;\r\n  let rest = 20;\r\n\r\n  //团课\r\n  let factor = factors.find((f) => f.id === \"GroupCourse\")!;\r\n  if (factor.value > 0) {\r\n    if (factor.value > rest) {\r\n      total += (factor.value - rest) * 70;\r\n      rest = 0;\r\n    } else {\r\n      rest -= factor.value;\r\n    }\r\n  }\r\n\r\n  // 小班\r\n  factor = factors.find((f) => f.id === \"SmallCourse\")!;\r\n  if (factor.value > 0) {\r\n    if (factor.value > rest) {\r\n      total += (factor.value - rest) * 80;\r\n      rest = 0;\r\n    } else {\r\n      rest -= factor.value;\r\n    }\r\n  }\r\n\r\n  // 私教\r\n  factor = factors.find((f) => f.id === \"PrivateCourse\")!;\r\n  if (factor.value > 0) {\r\n    if (factor.value > rest) {\r\n      total += (factor.value - rest) * 90;\r\n      rest = 0;\r\n    } else {\r\n      rest -= factor.value;\r\n    }\r\n  }\r\n  return total;\r\n}\r\n\r\nfunction CalcFullCourseSalary(course: number) {\r\n  const exCourse = course - BaseCourse[EmployeeTitle.FullTime];\r\n  if (course > 100) return exCourse * 120;\r\n  if (course > 80) return exCourse * 100;\r\n  if (course > 60) return exCourse * 90;\r\n  if (course > 40) return exCourse * 80;\r\n  if (course > 30) return exCourse * 70;\r\n  if (course > 20) return exCourse * 60;\r\n  return 0;\r\n}\r\n\r\nfunction CalcHalfTimeCourseSalary(course: number): number {\r\n  const exCourse = course - BaseCourse[EmployeeTitle.FullTime];\r\n  if (course > 100) return exCourse * 120 + 30 * 100;\r\n  if (course > 80) return exCourse * 100 + 30 * 100;\r\n  if (course > 60) return exCourse * 90 + 30 * 100;\r\n  if (course > 50)  return exCourse * 80 + 30 * 100;\r\n  if (course > 40)  return exCourse * 70 + 30 * 100;\r\n  if (course > 30)  return exCourse * 60 + 30 * 100;\r\n  return course * 100;\r\n}\r\n\r\nexport function GetFactorEarned(\r\n  { id, value }: SalaryFactor,\r\n  user: UserInfo\r\n): number {\r\n  const factor = GetFactorInstance(id, value);\r\n  if (factor === null) return 0;\r\n  return factor.GetEarned(user);\r\n}\r\n\r\nexport function GetFactorInstance(\r\n  factorId: string,\r\n  value: number\r\n): SalaryFactor | null {\r\n  switch (factorId) {\r\n    case \"Performance\":\r\n      return new TotalSales(value);\r\n    case \"PerformanceA\":\r\n      return new PerformanceA(value);\r\n    case \"PerformanceB\":\r\n      return new PerformanceB(value);\r\n    case \"CourseCommission\":\r\n      return new CourseCommission(value);\r\n    case \"GroupCourse\":\r\n      return new GroupCourse(value);\r\n    case \"SmallCourse\":\r\n      return new SmallCourse(value);\r\n    case \"PrivateCourse\":\r\n      return new PrivateCourse(value);\r\n    case \"EduTrainCourse\":\r\n      return new EduTrainCourse(value);\r\n    case \"LearningSubsidy\":\r\n      return new LearningSubsidy(value);\r\n    case \"OtherSubsidy\":\r\n      return new OtherSubsidy(value);\r\n    case \"OnDuty\":\r\n      return new OnDuty(value);\r\n    case \"SickLeave\":\r\n      return new SickLeave(value);\r\n    case \"CompassionateLeave\":\r\n      return new CompassionateLeave(value);\r\n    case \"LateForWork\":\r\n      return new LateForWork(value);\r\n    case \"Absenteeism\":\r\n      return new Absenteeism(value);\r\n    case \"OtherDeduction\":\r\n      return new OtherDeduction(value);\r\n\r\n    default:\r\n      return null;\r\n  }\r\n}\r\n","import { BaseSalary, EmployeeTitle, UserInfo } from \"./UserInfo\";\r\n\r\nconst WorkDaysPerMonth: number = 26;\r\nconst WorkHoursPerDay: number = 8;\r\n\r\nexport interface SalaryFactor {\r\n  readonly id: string;\r\n  readonly label: string;\r\n  readonly unit: string;\r\n  readonly category: \"Course\" | \"EduCourse\" | \"Positive\" | \"Negative\" | \"Sales\";\r\n  value: number;\r\n  GetEarned(userInfo: UserInfo): number;\r\n}\r\n\r\n/**\r\n * 销售业绩\r\n *\r\n * 销售人员专属\r\n */\r\nexport class TotalSales implements SalaryFactor {\r\n  public readonly id = \"TotalSales\";\r\n  public readonly label: string = \"业绩\";\r\n  public readonly unit = \"元\";\r\n  public readonly category = \"Sales\";\r\n\r\n  public value: number;\r\n\r\n  constructor(value: number | string) {\r\n    if (typeof(value) === 'string')\r\n      this.value = parseInt(value, 10);\r\n    else\r\n      this.value = value;\r\n  }\r\n\r\n  public GetEarned({ title }: UserInfo): number {\r\n    if (title !== EmployeeTitle.Salesman) return 0;\r\n    if (this.value >= 50000) {\r\n      return BaseSalary[title] + this.value * 0.05;\r\n    }\r\n    return 0;\r\n  }\r\n}\r\n\r\n/**\r\n * A类销售业绩\r\n *\r\n * 非销售人员专属\r\n */\r\nexport class PerformanceA implements SalaryFactor {\r\n  public readonly id = \"PerformanceA\";\r\n  public readonly label: string = \"业绩A\";\r\n  public readonly unit = \"元\";\r\n  public readonly category = \"Sales\";\r\n\r\n  public value: number;\r\n\r\n  constructor(value: number | string) {\r\n    if (typeof(value) === 'string')\r\n      this.value = parseInt(value, 10);\r\n    else\r\n      this.value = value;\r\n  }\r\n\r\n  public GetEarned({ title }: UserInfo): number {\r\n    if (title === EmployeeTitle.Salesman) return 0;\r\n    return this.value * 0.02;\r\n  }\r\n}\r\n\r\n/**\r\n * B类销售业绩\r\n *\r\n * 非销售人员专属\r\n */\r\nexport class PerformanceB implements SalaryFactor {\r\n  public readonly id = \"PerformanceB\";\r\n  public readonly label: string = \"业绩B\";\r\n  public readonly unit = \"元\";\r\n  public readonly category = \"Sales\";\r\n\r\n  public value: number;\r\n\r\n  constructor(value: number | string) {\r\n    if (typeof(value) === 'string')\r\n      this.value = parseInt(value, 10);\r\n    else\r\n      this.value = value;\r\n  }\r\n\r\n  public GetEarned({ title }: UserInfo): number {\r\n    if (title === EmployeeTitle.Salesman) return 0;\r\n    return this.value * 0.05;\r\n  }\r\n}\r\n\r\n/**\r\n * 课程提成：课时\r\n *\r\n * 非销售人员专属\r\n */\r\nexport class CourseCommission implements SalaryFactor {\r\n  public readonly id = \"CourseCommission\";\r\n  public readonly label: string = \"课程提成\";\r\n  public readonly unit = \"节\";\r\n  public readonly category = \"Sales\";\r\n\r\n  public value: number;\r\n\r\n  constructor(value: number | string) {\r\n    if (typeof(value) === 'string')\r\n      this.value = parseInt(value, 10);\r\n    else\r\n      this.value = value;\r\n  }\r\n\r\n  public GetEarned({ title }: UserInfo): number {\r\n    if (this.value <= 0) return 0;\r\n\r\n    if (title === EmployeeTitle.Director) return this.value * 3;\r\n    return 0;\r\n  }\r\n}\r\n\r\n/**\r\n * 团体课：课时\r\n *\r\n * 非销售人员专属\r\n */\r\nexport class GroupCourse implements SalaryFactor {\r\n  public readonly id = \"GroupCourse\";\r\n  public readonly label: string = \"团体课\";\r\n  public readonly unit = \"节\";\r\n  public readonly category = \"Course\";\r\n\r\n  public value: number;\r\n\r\n  constructor(value: number | string) {\r\n    if (typeof(value) === 'string')\r\n      this.value = parseInt(value, 10);\r\n    else\r\n      this.value = value;\r\n  }\r\n\r\n  public GetEarned({ title }: UserInfo): number {\r\n    if (title === EmployeeTitle.Salesman) return 0;\r\n    switch (title) {\r\n      case EmployeeTitle.Director:\r\n        return this.value * 70;\r\n      case EmployeeTitle.PartTime:\r\n        return this.value * 60;\r\n      case EmployeeTitle.Civilian:\r\n        return this.value * 60;\r\n    }\r\n    return 0;\r\n  }\r\n}\r\n\r\n/**\r\n * 小班课：课时\r\n *\r\n * 非销售人员专属\r\n */\r\nexport class SmallCourse implements SalaryFactor {\r\n  public readonly id = \"SmallCourse\";\r\n  public readonly label: string = \"小班课\";\r\n  public readonly unit = \"节\";\r\n  public readonly category = \"Course\";\r\n\r\n  public value: number;\r\n\r\n  constructor(value: number | string) {\r\n    if (typeof(value) === 'string')\r\n      this.value = parseInt(value, 10);\r\n    else\r\n      this.value = value;\r\n  }\r\n\r\n  public GetEarned({ title }: UserInfo): number {\r\n    if (this.value <= 0) return 0;\r\n    if (title === EmployeeTitle.Salesman) return 0;\r\n    switch (title) {\r\n      case EmployeeTitle.Director:\r\n        return this.value * 80;\r\n      case EmployeeTitle.PartTime:\r\n        return this.value * 70;\r\n      case EmployeeTitle.Civilian:\r\n        return this.value * 60;\r\n    }\r\n    return 0;\r\n  }\r\n}\r\n/**\r\n * 私教课：课时\r\n *\r\n * 非销售人员专属\r\n */\r\nexport class PrivateCourse implements SalaryFactor {\r\n  public readonly id = \"PrivateCourse\";\r\n  public readonly label: string = \"私教课\";\r\n  public readonly unit = \"节\";\r\n  public readonly category = \"Course\";\r\n\r\n  public value: number;\r\n\r\n  constructor(value: number | string) {\r\n    if (typeof(value) === 'string')\r\n      this.value = parseInt(value, 10);\r\n    else\r\n      this.value = value;\r\n  }\r\n\r\n  public GetEarned({ title }: UserInfo): number {\r\n    if (title === EmployeeTitle.Salesman) return 0;\r\n    if (this.value <= 0) return 0;\r\n    switch (title) {\r\n      case EmployeeTitle.Director:\r\n        return this.value * 90;\r\n      case EmployeeTitle.PartTime:\r\n        return this.value * 80;\r\n      case EmployeeTitle.Civilian:\r\n        return this.value * 60;\r\n    }\r\n    return 0;\r\n  }\r\n}\r\n\r\n/**\r\n * 教培课：课时\r\n *\r\n * 非销售人员专属\r\n */\r\nexport class EduTrainCourse implements SalaryFactor {\r\n  public readonly id = \"EduTrainCourse\";\r\n  public readonly label: string = \"教培课\";\r\n  public readonly unit = \"小时\";\r\n  public readonly category = \"EduCourse\";\r\n\r\n  public value: number;\r\n\r\n  constructor(value: number | string) {\r\n    if (typeof(value) === 'string')\r\n      this.value = parseInt(value, 10);\r\n    else\r\n      this.value = value;\r\n  }\r\n\r\n  public GetEarned({ title }: UserInfo): number {\r\n    if (title === EmployeeTitle.Salesman) return 0;\r\n    if (this.value <= 0) return 0;\r\n    return this.value * 100;\r\n  }\r\n}\r\n\r\n/**\r\n * 学习补助\r\n */\r\nexport class LearningSubsidy implements SalaryFactor {\r\n  public readonly id = \"LearningSubsidy\";\r\n  public readonly label: string = \"学习补助\";\r\n  public readonly unit = \"元\";\r\n  public readonly category = \"Positive\";\r\n\r\n  public value: number;\r\n\r\n  constructor(value: number | string) {\r\n    if (typeof(value) === 'string')\r\n      this.value = parseInt(value, 10);\r\n    else\r\n      this.value = value;\r\n  }\r\n\r\n  public GetEarned(userInfo: UserInfo): number {\r\n    return this.value;\r\n  }\r\n}\r\n\r\n/**\r\n * 其他补助\r\n */\r\nexport class OtherSubsidy implements SalaryFactor {\r\n  public readonly id = \"OtherSubsidy\";\r\n  public readonly label: string = \"其它补助\";\r\n  public readonly unit = \"元\";\r\n  public readonly category = \"Positive\";\r\n\r\n  public value: number;\r\n\r\n  constructor(value: number | string) {\r\n    if (typeof(value) === 'string')\r\n      this.value = parseInt(value, 10);\r\n    else\r\n      this.value = value;\r\n  }\r\n\r\n  public GetEarned(userInfo: UserInfo): number {\r\n    return this.value;\r\n  }\r\n}\r\n\r\n/**\r\n * 到勤\r\n *\r\n * 文员人员专属\r\n */\r\nexport class OnDuty implements SalaryFactor {\r\n  public readonly id = \"OnDuty\";\r\n  public readonly label: string = \"到勤\";\r\n  public readonly unit = \"天\";\r\n  public readonly category = \"Positive\";\r\n\r\n  public value: number;\r\n\r\n  constructor(value: number | string) {\r\n    if (typeof(value) === 'string')\r\n      this.value = parseInt(value, 10);\r\n    else\r\n      this.value = value;\r\n  }\r\n\r\n  public GetEarned({ title }: UserInfo): number {\r\n    if (this.value <= 0) return 0;\r\n    if (title === EmployeeTitle.Civilian) return this.value * 100;\r\n    return 0;\r\n  }\r\n}\r\n\r\n/**\r\n * 病假\r\n */\r\nexport class SickLeave implements SalaryFactor {\r\n  public readonly id = \"SickLeave\";\r\n  public readonly label: string = \"病假\";\r\n  public readonly unit = \"天\";\r\n  public readonly category = \"Negative\";\r\n\r\n  public value: number;\r\n\r\n  constructor(value: number | string) {\r\n    if (typeof(value) === 'string')\r\n      this.value = parseInt(value, 10);\r\n    else\r\n      this.value = value;\r\n  }\r\n\r\n  public GetEarned({ title }: UserInfo): number {\r\n    if (this.value <= 0) return 0;\r\n    if (title === EmployeeTitle.PartTime) {\r\n      return 0;\r\n    } else if (title === EmployeeTitle.Civilian) {\r\n      return -0.3 * 100 * this.value;\r\n    }\r\n    const baseSalary = BaseSalary[title];\r\n    return -0.3 * this.value * (baseSalary / WorkDaysPerMonth);\r\n  }\r\n}\r\n\r\n/**\r\n * 事假\r\n */\r\nexport class CompassionateLeave implements SalaryFactor {\r\n  public readonly id = \"CompassionateLeave\";\r\n  public readonly label: string = \"事假\";\r\n  public readonly unit = \"天\";\r\n  public readonly category = \"Negative\";\r\n\r\n  public value: number;\r\n\r\n  constructor(value: number | string) {\r\n    if (typeof(value) === 'string')\r\n      this.value = parseInt(value, 10);\r\n    else\r\n      this.value = value;\r\n  }\r\n\r\n  public GetEarned({ title }: UserInfo): number {\r\n    if (this.value <= 0) return 0;\r\n    if (title === EmployeeTitle.Civilian || title === EmployeeTitle.PartTime) {\r\n      return 0;\r\n    }\r\n    const baseSalary = BaseSalary[title];\r\n    return -this.value * (baseSalary / WorkDaysPerMonth);\r\n  }\r\n}\r\n\r\n/**\r\n * 迟到\r\n */\r\nexport class LateForWork implements SalaryFactor {\r\n  public readonly id = \"LateForWork\";\r\n  public readonly label: string = \"迟到\";\r\n  public readonly unit = \"小时\";\r\n  public readonly category = \"Negative\";\r\n\r\n  public value: number;\r\n\r\n  constructor(value: number | string) {\r\n    if (typeof(value) === 'string')\r\n      this.value = parseInt(value, 10);\r\n    else\r\n      this.value = value;\r\n  }\r\n\r\n  public GetEarned({ title }: UserInfo): number {\r\n    if (this.value <= 0) return 0;\r\n    if (title === EmployeeTitle.Civilian) {\r\n      return this.value * (100 / 5);\r\n    }\r\n    const baseSalary = BaseSalary[title];\r\n    return -this.value * (baseSalary / WorkDaysPerMonth / WorkHoursPerDay);\r\n  }\r\n}\r\n\r\n/**\r\n * 旷工\r\n */\r\nexport class Absenteeism implements SalaryFactor {\r\n  public readonly id = \"Absenteeism\";\r\n  public readonly label: string = \"旷工\";\r\n  public readonly unit = \"次\";\r\n  public readonly category = \"Negative\";\r\n\r\n  public value: number;\r\n\r\n  constructor(value: number | string) {\r\n    if (typeof(value) === 'string')\r\n      this.value = parseInt(value, 10);\r\n    else\r\n      this.value = value;\r\n  }\r\n\r\n  public GetEarned({ title }: UserInfo): number {\r\n    if (this.value <= 0) return 0;\r\n    if (title === EmployeeTitle.Civilian || title === EmployeeTitle.PartTime)\r\n      return 0;\r\n\r\n    const baseSalary = BaseSalary[title];\r\n    return -2 * this.value * (baseSalary / WorkDaysPerMonth);\r\n  }\r\n}\r\n\r\n/**\r\n * 其它扣除项\r\n */\r\nexport class OtherDeduction implements SalaryFactor {\r\n  public readonly id = \"OtherDeduction\";\r\n  public readonly label: string = \"其它扣除项\";\r\n  public readonly unit = \"元\";\r\n  public readonly category = \"Negative\";\r\n\r\n  public value: number;\r\n\r\n  constructor(value: number | string) {\r\n    if (typeof(value) === 'string')\r\n      this.value = parseInt(value, 10);\r\n    else\r\n      this.value = value;\r\n  }\r\n\r\n  public GetEarned({ title }: UserInfo): number {\r\n    if (this.value <= 0) return 0;\r\n    return -this.value;\r\n  }\r\n}\r\n\r\n\r\nexport function CreateFactorInstance(\r\n  factorId: string,\r\n  value: number\r\n): SalaryFactor | null {\r\n  switch (factorId) {\r\n    case \"Performance\":\r\n      return new TotalSales(value);\r\n    case \"PerformanceA\":\r\n      return new PerformanceA(value);\r\n    case \"PerformanceB\":\r\n      return new PerformanceB(value);\r\n    case \"CourseCommission\":\r\n      return new CourseCommission(value);\r\n    case \"GroupCourse\":\r\n      return new GroupCourse(value);\r\n    case \"SmallCourse\":\r\n      return new SmallCourse(value);\r\n    case \"PrivateCourse\":\r\n      return new PrivateCourse(value);\r\n    case \"EduTrainCourse\":\r\n      return new EduTrainCourse(value);\r\n    case \"LearningSubsidy\":\r\n      return new LearningSubsidy(value);\r\n    case \"OtherSubsidy\":\r\n      return new OtherSubsidy(value);\r\n    case \"OnDuty\":\r\n      return new OnDuty(value);\r\n    case \"SickLeave\":\r\n      return new SickLeave(value);\r\n    case \"CompassionateLeave\":\r\n      return new CompassionateLeave(value);\r\n    case \"LateForWork\":\r\n      return new LateForWork(value);\r\n    case \"Absenteeism\":\r\n      return new Absenteeism(value);\r\n    case \"OtherDeduction\":\r\n      return new OtherDeduction(value);\r\n\r\n    default:\r\n      return null;\r\n  }\r\n}\r\n\r\nexport function BuildFactors(title: EmployeeTitle) {\r\n  switch (title) {\r\n    case EmployeeTitle.Director:\r\n      return [\r\n        new PerformanceA(0),\r\n        new PerformanceB(0),\r\n        new GroupCourse(0),\r\n        new SmallCourse(0),\r\n        new PrivateCourse(0),\r\n        new EduTrainCourse(0),\r\n        new LearningSubsidy(0),\r\n        new OtherSubsidy(0),\r\n        new CourseCommission(0),\r\n        new SickLeave(0),\r\n        new CompassionateLeave(0),\r\n        new LateForWork(0),\r\n        new Absenteeism(0),\r\n        new OtherDeduction(0),\r\n      ];\r\n    case EmployeeTitle.HalfTime:\r\n      return [\r\n        new PerformanceA(0),\r\n        new PerformanceB(0),\r\n        new GroupCourse(0),\r\n        new SmallCourse(0),\r\n        new PrivateCourse(0),\r\n        new EduTrainCourse(0),\r\n        new LearningSubsidy(0),\r\n        new OtherSubsidy(0),\r\n        new SickLeave(0),\r\n        new CompassionateLeave(0),\r\n        new LateForWork(0),\r\n        new Absenteeism(0),\r\n        new OtherDeduction(0),\r\n      ];\r\n    case EmployeeTitle.PartTime:\r\n      return [\r\n        new PerformanceA(0),\r\n        new PerformanceB(0),\r\n        new GroupCourse(0),\r\n        new SmallCourse(0),\r\n        new PrivateCourse(0),\r\n        new EduTrainCourse(0),\r\n        new LearningSubsidy(0),\r\n        new OtherSubsidy(0),\r\n        new OtherDeduction(0),\r\n      ];\r\n    case EmployeeTitle.Salesman:\r\n      return [\r\n        new TotalSales(0),\r\n        new LearningSubsidy(0),\r\n        new OtherSubsidy(0),\r\n        new SickLeave(0),\r\n        new CompassionateLeave(0),\r\n        new LateForWork(0),\r\n        new Absenteeism(0),\r\n        new OtherDeduction(0),\r\n      ];\r\n    case EmployeeTitle.Civilian:\r\n      return [\r\n        new OnDuty(0),\r\n        new PerformanceA(0),\r\n        new PerformanceB(0),\r\n        new GroupCourse(0),\r\n        new SmallCourse(0),\r\n        new PrivateCourse(0),\r\n        new EduTrainCourse(0),\r\n        new LearningSubsidy(0),\r\n        new OtherSubsidy(0),\r\n        new SickLeave(0),\r\n        new LateForWork(0),\r\n        new OtherDeduction(0),\r\n      ];\r\n\r\n    //case \"FullTime\":\r\n    default:\r\n      return [\r\n        new PerformanceA(0),\r\n        new PerformanceB(0),\r\n        new GroupCourse(0),\r\n        new SmallCourse(0),\r\n        new PrivateCourse(0),\r\n        new EduTrainCourse(0),\r\n        new LearningSubsidy(0),\r\n        new OtherSubsidy(0),\r\n        new SickLeave(0),\r\n        new CompassionateLeave(0),\r\n        new LateForWork(0),\r\n        new Absenteeism(0),\r\n        new OtherDeduction(0),\r\n      ];\r\n  }\r\n}\r\n","import { Form, Input, Button, Select, DatePicker } from \"antd\";\nimport { Fragment } from \"react\";\n\nimport \"./App.css\";\nimport { BuildFactors, EmployeeTitle, UserInfo } from \"./models\";\n\nconst { Option } = Select;\n\nconst initValue = new UserInfo({ employee: \"Sang\" });\nexport const App = () => {\n  const [form] = Form.useForm<UserInfo>();\n  const onFinish = (values: any) => {\n    const data = form.getFieldsValue();\n    const userInfo = new UserInfo(data);\n    userInfo.CalcSalary();\n    form.setFieldsValue({ salary: userInfo.salary });\n    console.log(`${userInfo.employee} 本月应发 ${userInfo.salary}`);\n  };\n\n  const onFinishFailed = (errorInfo: any) => {\n    console.log(\"Failed:\", errorInfo);\n  };\n  const onTitleChanged = (title: EmployeeTitle) => {\n    form.setFieldsValue({ title: title, factors: BuildFactors(title) });\n  };\n  return (\n    <>\n      <main>\n        <Form\n          form={form}\n          labelCol={{ span: 4 }}\n          wrapperCol={{ span: 8 }}\n          initialValues={initValue}\n          onFinish={onFinish}\n          onFinishFailed={onFinishFailed}\n        >\n          <Form.Item label=\"姓名\" name=\"employee\" rules={[{ required: true }]}>\n            <Input placeholder=\"姓名\" />\n          </Form.Item>\n          <Form.Item\n            name=\"date\"\n            label=\"日期\"\n            labelCol={{ span: 4 }}\n            wrapperCol={{ span: 8 }}\n            rules={[\n              {\n                type: \"object\" as const,\n                required: true,\n                message: \"Please select time!\",\n              },\n            ]}\n          >\n            <DatePicker />\n          </Form.Item>\n          <Form.Item label=\"职位\" name=\"title\" rules={[{ required: true }]}>\n            <Select placeholder=\"选择一个职位\" onChange={onTitleChanged}>\n              <Option value=\"Director\">课程总监/店长老师</Option>\n              <Option value=\"FullTime\">全职老师</Option>\n              <Option value=\"HalfTime\">半职老师</Option>\n              <Option value=\"PartTime\">兼职老师</Option>\n              <Option value=\"Salesman\">销售人员</Option>\n              <Option value=\"Civilian\">文职人员</Option>\n            </Select>\n          </Form.Item>\n\n          <Form.List name=\"factors\">\n            {(factors) => (\n              <>\n                {factors.map(({ key, name, fieldKey }, index) => (\n                  <Fragment key={key}>\n                    <Form.Item\n                      label={form.getFieldValue(\"factors\")[index].label}\n                      name={[name, \"value\"]}\n                      fieldKey={[fieldKey, \"value\"]}\n                      labelCol={{ span: 4 }}\n                      wrapperCol={{ span: 8 }}\n                    >\n                      <Input\n                        suffix={form.getFieldValue(\"factors\")[index].unit}\n                        autoComplete=\"off\"\n                      />\n                    </Form.Item>\n                  </Fragment>\n                ))}\n              </>\n            )}\n          </Form.List>\n          <Form.Item wrapperCol={{ offset: 4, span: 8 }}>\n            <Button type=\"primary\" htmlType=\"submit\">\n              计算\n            </Button>\n          </Form.Item>\n\n          <Form.Item label=\"实发薪资\" name=\"salary\">\n            <Input placeholder=\"实发薪资\" readOnly />\n          </Form.Item>\n\n        </Form>\n      </main>\n    </>\n  );\n};\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport \"antd/dist/antd.css\";\n\nimport './index.css';\nimport {App} from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}