{"version":3,"sources":["models/UserInfo.ts","models/SalaryFactor.ts","models/SalaryCalculator.ts","App.tsx","reportWebVitals.ts","index.tsx"],"names":["EmployeeTitle","UserInfo","factors","data","employee","title","FullTime","date","moment","salary","undefined","Object","assign","this","map","f","factorId","value","TotalSales","PerformanceA","PerformanceB","CourseCommission","GroupCourse","SmallCourse","PrivateCourse","EduTrainCourse","LearningSubsidy","OtherSubsidy","OnDuty","SickLeave","CompassionateLeave","LateForWork","Absenteeism","OtherDeduction","CreateFactorInstance","id","filter","length","BuildFactors","courseSalary","user","course","Salesman","category","reduce","prev","cur","HalfTime","CalcHalfTimeCourseSalary","Director","total","rest","factor","find","CalcDirectorCourseSalary","GetEarned","GetCourseSalary","BaseSalary","PartTime","Civilian","label","unit","parseInt","userInfo","baseSalary","Option","Select","initValue","App","Form","useForm","form","labelCol","span","wrapperCol","initialValues","onFinish","values","getFieldsValue","CalcSalary","setFieldsValue","console","log","onFinishFailed","errorInfo","Item","name","rules","required","placeholder","type","message","onChange","readOnly","List","index","key","fieldKey","getFieldValue","suffix","autoComplete","offset","htmlType","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.4de8caed.chunk.js","sourcesContent":["import moment from \"moment\";\r\nimport { BuildFactors } from \".\";\r\n\r\nimport { GetCourseSalary } from \"./SalaryCalculator\";\r\nimport { CreateFactorInstance, SalaryFactor } from \"./SalaryFactor\";\r\n\r\nexport enum EmployeeTitle {\r\n  /**\r\n   * 课程总监/店长老师\r\n   */\r\n  Director = \"Director\",\r\n  /**\r\n   * 全职老师\r\n   */\r\n  FullTime = \"FullTime\",\r\n  /**\r\n   * 半职老师\r\n   */\r\n  HalfTime = \"HalfTime\",\r\n  /**\r\n   * 兼职老师\r\n   */\r\n  PartTime = \"PartTime\",\r\n  /**\r\n   * 销售人员\r\n   */\r\n  Salesman = \"Salesman\",\r\n  /**\r\n   * 文职人员\r\n   */\r\n  Civilian = \"Civilian\",\r\n}\r\n\r\nexport class UserInfo {\r\n  public employee: string = \"\";\r\n  public title: EmployeeTitle = EmployeeTitle.FullTime;\r\n  public date: moment.Moment = moment();\r\n  public salary: number = 0;\r\n  public factors: SalaryFactor[] = [];\r\n\r\n  constructor({factors, ...data}: Partial<UserInfo>) {\r\n    if (data !== undefined) {\r\n      Object.assign(this, data);\r\n      if (factors) {\r\n        this.factors = factors.map(f => CreateFactorInstance(f.id, f.value)!).filter(f => f !== null);\r\n      }\r\n    }\r\n    if (this.factors.length === 0) {\r\n      this.factors = BuildFactors(this.title);\r\n    }\r\n  }\r\n\r\n  public CalcSalary(): void {\r\n    const courseSalary = GetCourseSalary(this);\r\n\r\n    this.salary =\r\n      courseSalary +\r\n      this.factors\r\n        .filter((f) => f.category !== \"Course\")\r\n        .reduce((prev, cur) => prev + cur.GetEarned(this), 0);\r\n  }\r\n}\r\n\r\n\r\nexport const BaseSalary: { [key: string]: number } = {\r\n  Director: 4000.0,\r\n  FullTime: 3000.0,\r\n  HalfTime: 3000.0,\r\n  PartTime: 0,\r\n  Salesman: 3000.0,\r\n  Civilian: 0,\r\n};\r\n\r\nexport const BaseCourse: { [key: string]: number } = {\r\n  Director: 20,\r\n  FullTime: 20,\r\n  HalfTime: 30,\r\n  PartTime: 0,\r\n  Salesman: 0,\r\n  Civilian: 0,\r\n};\r\n","import { BaseSalary, EmployeeTitle, UserInfo } from \"./UserInfo\";\r\n\r\nconst WorkDaysPerMonth: number = 26;\r\nconst WorkHoursPerDay: number = 8;\r\n\r\nexport interface SalaryFactor {\r\n  readonly id: string;\r\n  readonly label: string;\r\n  readonly unit: string;\r\n  readonly category: \"Course\" | \"EduCourse\" | \"Positive\" | \"Negative\" | \"Sales\";\r\n  value: number;\r\n  GetEarned(userInfo: UserInfo): number;\r\n}\r\n\r\n/**\r\n * 销售业绩\r\n *\r\n * 销售人员专属\r\n */\r\nexport class TotalSales implements SalaryFactor {\r\n  public readonly id = \"TotalSales\";\r\n  public readonly label: string = \"业绩\";\r\n  public readonly unit = \"元\";\r\n  public readonly category = \"Sales\";\r\n\r\n  public value: number;\r\n\r\n  constructor(value: number | string) {\r\n    if (typeof(value) === 'string')\r\n      this.value = parseInt(value, 10);\r\n    else\r\n      this.value = value;\r\n  }\r\n\r\n  public GetEarned({ title }: UserInfo): number {\r\n    if (title !== EmployeeTitle.Salesman) return 0;\r\n    if (this.value > 50000) {\r\n      return 2000 + this.value * 0.005;\r\n    }\r\n    return 0;\r\n  }\r\n}\r\n\r\n/**\r\n * A类销售业绩\r\n *\r\n * 非销售人员专属\r\n */\r\nexport class PerformanceA implements SalaryFactor {\r\n  public readonly id = \"PerformanceA\";\r\n  public readonly label: string = \"业绩A\";\r\n  public readonly unit = \"元\";\r\n  public readonly category = \"Sales\";\r\n\r\n  public value: number;\r\n\r\n  constructor(value: number | string) {\r\n    if (typeof(value) === 'string')\r\n      this.value = parseInt(value, 10);\r\n    else\r\n      this.value = value;\r\n  }\r\n\r\n  public GetEarned({ title }: UserInfo): number {\r\n    if (title === EmployeeTitle.Salesman) return 0;\r\n    return this.value * 0.002;\r\n  }\r\n}\r\n\r\n/**\r\n * B类销售业绩\r\n *\r\n * 非销售人员专属\r\n */\r\nexport class PerformanceB implements SalaryFactor {\r\n  public readonly id = \"PerformanceB\";\r\n  public readonly label: string = \"业绩B\";\r\n  public readonly unit = \"元\";\r\n  public readonly category = \"Sales\";\r\n\r\n  public value: number;\r\n\r\n  constructor(value: number | string) {\r\n    if (typeof(value) === 'string')\r\n      this.value = parseInt(value, 10);\r\n    else\r\n      this.value = value;\r\n  }\r\n\r\n  public GetEarned({ title }: UserInfo): number {\r\n    if (title === EmployeeTitle.Salesman) return 0;\r\n    return this.value * 0.005;\r\n  }\r\n}\r\n\r\n/**\r\n * 课程提成：课时\r\n *\r\n * 非销售人员专属\r\n */\r\nexport class CourseCommission implements SalaryFactor {\r\n  public readonly id = \"CourseCommission\";\r\n  public readonly label: string = \"课程提成\";\r\n  public readonly unit = \"节\";\r\n  public readonly category = \"Sales\";\r\n\r\n  public value: number;\r\n\r\n  constructor(value: number | string) {\r\n    if (typeof(value) === 'string')\r\n      this.value = parseInt(value, 10);\r\n    else\r\n      this.value = value;\r\n  }\r\n\r\n  public GetEarned({ title }: UserInfo): number {\r\n    if (this.value <= 0) return 0;\r\n\r\n    if (title === EmployeeTitle.Director) return this.value * 3;\r\n    return 0;\r\n  }\r\n}\r\n\r\n/**\r\n * 团体课：课时\r\n *\r\n * 非销售人员专属\r\n */\r\nexport class GroupCourse implements SalaryFactor {\r\n  public readonly id = \"GroupCourse\";\r\n  public readonly label: string = \"团体课\";\r\n  public readonly unit = \"节\";\r\n  public readonly category = \"Course\";\r\n\r\n  public value: number;\r\n\r\n  constructor(value: number | string) {\r\n    if (typeof(value) === 'string')\r\n      this.value = parseInt(value, 10);\r\n    else\r\n      this.value = value;\r\n  }\r\n\r\n  public GetEarned({ title }: UserInfo): number {\r\n    if (title === EmployeeTitle.Salesman) return 0;\r\n    switch (title) {\r\n      case EmployeeTitle.Director:\r\n        return this.value * 70;\r\n      case EmployeeTitle.PartTime:\r\n        return this.value * 60;\r\n      case EmployeeTitle.Civilian:\r\n        return this.value * 60;\r\n    }\r\n    return 0;\r\n  }\r\n}\r\n\r\n/**\r\n * 小班课：课时\r\n *\r\n * 非销售人员专属\r\n */\r\nexport class SmallCourse implements SalaryFactor {\r\n  public readonly id = \"SmallCourse\";\r\n  public readonly label: string = \"小班课\";\r\n  public readonly unit = \"节\";\r\n  public readonly category = \"Course\";\r\n\r\n  public value: number;\r\n\r\n  constructor(value: number | string) {\r\n    if (typeof(value) === 'string')\r\n      this.value = parseInt(value, 10);\r\n    else\r\n      this.value = value;\r\n  }\r\n\r\n  public GetEarned({ title }: UserInfo): number {\r\n    if (this.value <= 0) return 0;\r\n    if (title === EmployeeTitle.Salesman) return 0;\r\n    switch (title) {\r\n      case EmployeeTitle.Director:\r\n        return this.value * 80;\r\n      case EmployeeTitle.PartTime:\r\n        return this.value * 70;\r\n      case EmployeeTitle.Civilian:\r\n        return this.value * 60;\r\n    }\r\n    return 0;\r\n  }\r\n}\r\n/**\r\n * 私教课：课时\r\n *\r\n * 非销售人员专属\r\n */\r\nexport class PrivateCourse implements SalaryFactor {\r\n  public readonly id = \"PrivateCourse\";\r\n  public readonly label: string = \"私教课\";\r\n  public readonly unit = \"节\";\r\n  public readonly category = \"Course\";\r\n\r\n  public value: number;\r\n\r\n  constructor(value: number | string) {\r\n    if (typeof(value) === 'string')\r\n      this.value = parseInt(value, 10);\r\n    else\r\n      this.value = value;\r\n  }\r\n\r\n  public GetEarned({ title }: UserInfo): number {\r\n    if (title === EmployeeTitle.Salesman) return 0;\r\n    if (this.value <= 0) return 0;\r\n    switch (title) {\r\n      case EmployeeTitle.Director:\r\n        return this.value * 90;\r\n      case EmployeeTitle.PartTime:\r\n        return this.value * 80;\r\n      case EmployeeTitle.Civilian:\r\n        return this.value * 60;\r\n    }\r\n    return 0;\r\n  }\r\n}\r\n\r\n/**\r\n * 教培课：课时\r\n *\r\n * 非销售人员专属\r\n */\r\nexport class EduTrainCourse implements SalaryFactor {\r\n  public readonly id = \"EduTrainCourse\";\r\n  public readonly label: string = \"教培课\";\r\n  public readonly unit = \"小时\";\r\n  public readonly category = \"EduCourse\";\r\n\r\n  public value: number;\r\n\r\n  constructor(value: number | string) {\r\n    if (typeof(value) === 'string')\r\n      this.value = parseInt(value, 10);\r\n    else\r\n      this.value = value;\r\n  }\r\n\r\n  public GetEarned({ title }: UserInfo): number {\r\n    if (title === EmployeeTitle.Salesman) return 0;\r\n    if (this.value <= 0) return 0;\r\n    return this.value * 100;\r\n  }\r\n}\r\n\r\n/**\r\n * 学习补助\r\n */\r\nexport class LearningSubsidy implements SalaryFactor {\r\n  public readonly id = \"LearningSubsidy\";\r\n  public readonly label: string = \"学习补助\";\r\n  public readonly unit = \"元\";\r\n  public readonly category = \"Positive\";\r\n\r\n  public value: number;\r\n\r\n  constructor(value: number | string) {\r\n    if (typeof(value) === 'string')\r\n      this.value = parseInt(value, 10);\r\n    else\r\n      this.value = value;\r\n  }\r\n\r\n  public GetEarned(userInfo: UserInfo): number {\r\n    return this.value;\r\n  }\r\n}\r\n\r\n/**\r\n * 其他补助\r\n */\r\nexport class OtherSubsidy implements SalaryFactor {\r\n  public readonly id = \"OtherSubsidy\";\r\n  public readonly label: string = \"其它补助\";\r\n  public readonly unit = \"元\";\r\n  public readonly category = \"Positive\";\r\n\r\n  public value: number;\r\n\r\n  constructor(value: number | string) {\r\n    if (typeof(value) === 'string')\r\n      this.value = parseInt(value, 10);\r\n    else\r\n      this.value = value;\r\n  }\r\n\r\n  public GetEarned(userInfo: UserInfo): number {\r\n    return this.value;\r\n  }\r\n}\r\n\r\n/**\r\n * 到勤\r\n *\r\n * 文员人员专属\r\n */\r\nexport class OnDuty implements SalaryFactor {\r\n  public readonly id = \"OnDuty\";\r\n  public readonly label: string = \"到勤\";\r\n  public readonly unit = \"天\";\r\n  public readonly category = \"Positive\";\r\n\r\n  public value: number;\r\n\r\n  constructor(value: number | string) {\r\n    if (typeof(value) === 'string')\r\n      this.value = parseInt(value, 10);\r\n    else\r\n      this.value = value;\r\n  }\r\n\r\n  public GetEarned({ title }: UserInfo): number {\r\n    if (this.value <= 0) return 0;\r\n    if (title === EmployeeTitle.Civilian) return this.value * 100;\r\n    return 0;\r\n  }\r\n}\r\n\r\n/**\r\n * 病假\r\n */\r\nexport class SickLeave implements SalaryFactor {\r\n  public readonly id = \"SickLeave\";\r\n  public readonly label: string = \"病假\";\r\n  public readonly unit = \"天\";\r\n  public readonly category = \"Negative\";\r\n\r\n  public value: number;\r\n\r\n  constructor(value: number | string) {\r\n    if (typeof(value) === 'string')\r\n      this.value = parseInt(value, 10);\r\n    else\r\n      this.value = value;\r\n  }\r\n\r\n  public GetEarned({ title }: UserInfo): number {\r\n    if (this.value <= 0) return 0;\r\n    if (title === EmployeeTitle.PartTime) {\r\n      return 0;\r\n    } else if (title === EmployeeTitle.Civilian) {\r\n      return -0.3 * 100 * this.value;\r\n    }\r\n    const baseSalary = BaseSalary[title];\r\n    return -0.3 * this.value * (baseSalary / WorkDaysPerMonth);\r\n  }\r\n}\r\n\r\n/**\r\n * 事假\r\n */\r\nexport class CompassionateLeave implements SalaryFactor {\r\n  public readonly id = \"CompassionateLeave\";\r\n  public readonly label: string = \"事假\";\r\n  public readonly unit = \"天\";\r\n  public readonly category = \"Negative\";\r\n\r\n  public value: number;\r\n\r\n  constructor(value: number | string) {\r\n    if (typeof(value) === 'string')\r\n      this.value = parseInt(value, 10);\r\n    else\r\n      this.value = value;\r\n  }\r\n\r\n  public GetEarned({ title }: UserInfo): number {\r\n    if (this.value <= 0) return 0;\r\n    if (title === EmployeeTitle.Civilian || title === EmployeeTitle.PartTime) {\r\n      return 0;\r\n    }\r\n    const baseSalary = BaseSalary[title];\r\n    return -this.value * (baseSalary / WorkDaysPerMonth);\r\n  }\r\n}\r\n\r\n/**\r\n * 迟到\r\n */\r\nexport class LateForWork implements SalaryFactor {\r\n  public readonly id = \"LateForWork\";\r\n  public readonly label: string = \"迟到\";\r\n  public readonly unit = \"小时\";\r\n  public readonly category = \"Negative\";\r\n\r\n  public value: number;\r\n\r\n  constructor(value: number | string) {\r\n    if (typeof(value) === 'string')\r\n      this.value = parseInt(value, 10);\r\n    else\r\n      this.value = value;\r\n  }\r\n\r\n  public GetEarned({ title }: UserInfo): number {\r\n    if (this.value <= 0) return 0;\r\n    if (title === EmployeeTitle.Civilian) {\r\n      return this.value * (100 / 5);\r\n    }\r\n    const baseSalary = BaseSalary[title];\r\n    return -this.value * (baseSalary / WorkDaysPerMonth / WorkHoursPerDay);\r\n  }\r\n}\r\n\r\n/**\r\n * 旷工\r\n */\r\nexport class Absenteeism implements SalaryFactor {\r\n  public readonly id = \"Absenteeism\";\r\n  public readonly label: string = \"旷工\";\r\n  public readonly unit = \"次\";\r\n  public readonly category = \"Negative\";\r\n\r\n  public value: number;\r\n\r\n  constructor(value: number | string) {\r\n    if (typeof(value) === 'string')\r\n      this.value = parseInt(value, 10);\r\n    else\r\n      this.value = value;\r\n  }\r\n\r\n  public GetEarned({ title }: UserInfo): number {\r\n    if (this.value <= 0) return 0;\r\n    if (title === EmployeeTitle.Civilian || title === EmployeeTitle.PartTime)\r\n      return 0;\r\n\r\n    const baseSalary = BaseSalary[title];\r\n    return -2 * this.value * (baseSalary / WorkDaysPerMonth);\r\n  }\r\n}\r\n\r\n/**\r\n * 其它扣除项\r\n */\r\nexport class OtherDeduction implements SalaryFactor {\r\n  public readonly id = \"OtherDeduction\";\r\n  public readonly label: string = \"其它扣除项\";\r\n  public readonly unit = \"元\";\r\n  public readonly category = \"Negative\";\r\n\r\n  public value: number;\r\n\r\n  constructor(value: number | string) {\r\n    if (typeof(value) === 'string')\r\n      this.value = parseInt(value, 10);\r\n    else\r\n      this.value = value;\r\n  }\r\n\r\n  public GetEarned({ title }: UserInfo): number {\r\n    if (this.value <= 0) return 0;\r\n    return -this.value;\r\n  }\r\n}\r\n\r\n\r\nexport function CreateFactorInstance(\r\n  factorId: string,\r\n  value: number\r\n): SalaryFactor | null {\r\n  switch (factorId) {\r\n    case \"Performance\":\r\n      return new TotalSales(value);\r\n    case \"PerformanceA\":\r\n      return new PerformanceA(value);\r\n    case \"PerformanceB\":\r\n      return new PerformanceB(value);\r\n    case \"CourseCommission\":\r\n      return new CourseCommission(value);\r\n    case \"GroupCourse\":\r\n      return new GroupCourse(value);\r\n    case \"SmallCourse\":\r\n      return new SmallCourse(value);\r\n    case \"PrivateCourse\":\r\n      return new PrivateCourse(value);\r\n    case \"EduTrainCourse\":\r\n      return new EduTrainCourse(value);\r\n    case \"LearningSubsidy\":\r\n      return new LearningSubsidy(value);\r\n    case \"OtherSubsidy\":\r\n      return new OtherSubsidy(value);\r\n    case \"OnDuty\":\r\n      return new OnDuty(value);\r\n    case \"SickLeave\":\r\n      return new SickLeave(value);\r\n    case \"CompassionateLeave\":\r\n      return new CompassionateLeave(value);\r\n    case \"LateForWork\":\r\n      return new LateForWork(value);\r\n    case \"Absenteeism\":\r\n      return new Absenteeism(value);\r\n    case \"OtherDeduction\":\r\n      return new OtherDeduction(value);\r\n\r\n    default:\r\n      return null;\r\n  }\r\n}\r\n\r\nexport function BuildFactors(title: EmployeeTitle) {\r\n  switch (title) {\r\n    case EmployeeTitle.Director:\r\n      return [\r\n        new PerformanceA(0),\r\n        new PerformanceB(0),\r\n        new GroupCourse(0),\r\n        new SmallCourse(0),\r\n        new PrivateCourse(0),\r\n        new EduTrainCourse(0),\r\n        new LearningSubsidy(0),\r\n        new OtherSubsidy(0),\r\n        new CourseCommission(0),\r\n        new SickLeave(0),\r\n        new CompassionateLeave(0),\r\n        new LateForWork(0),\r\n        new Absenteeism(0),\r\n        new OtherDeduction(0),\r\n      ];\r\n    case EmployeeTitle.HalfTime:\r\n      return [\r\n        new PerformanceA(0),\r\n        new PerformanceB(0),\r\n        new GroupCourse(0),\r\n        new SmallCourse(0),\r\n        new PrivateCourse(0),\r\n        new EduTrainCourse(0),\r\n        new LearningSubsidy(0),\r\n        new OtherSubsidy(0),\r\n        new SickLeave(0),\r\n        new CompassionateLeave(0),\r\n        new LateForWork(0),\r\n        new Absenteeism(0),\r\n        new OtherDeduction(0),\r\n      ];\r\n    case EmployeeTitle.PartTime:\r\n      return [\r\n        new PerformanceA(0),\r\n        new PerformanceB(0),\r\n        new GroupCourse(0),\r\n        new SmallCourse(0),\r\n        new PrivateCourse(0),\r\n        new EduTrainCourse(0),\r\n        new LearningSubsidy(0),\r\n        new OtherSubsidy(0),\r\n        new OtherDeduction(0),\r\n      ];\r\n    case EmployeeTitle.Salesman:\r\n      return [\r\n        new TotalSales(0),\r\n        new LearningSubsidy(0),\r\n        new OtherSubsidy(0),\r\n        new SickLeave(0),\r\n        new CompassionateLeave(0),\r\n        new LateForWork(0),\r\n        new Absenteeism(0),\r\n        new OtherDeduction(0),\r\n      ];\r\n    case EmployeeTitle.Civilian:\r\n      return [\r\n        new OnDuty(0),\r\n        new PerformanceA(0),\r\n        new PerformanceB(0),\r\n        new GroupCourse(0),\r\n        new SmallCourse(0),\r\n        new PrivateCourse(0),\r\n        new EduTrainCourse(0),\r\n        new LearningSubsidy(0),\r\n        new OtherSubsidy(0),\r\n        new SickLeave(0),\r\n        new LateForWork(0),\r\n        new OtherDeduction(0),\r\n      ];\r\n\r\n    //case \"FullTime\":\r\n    default:\r\n      return [\r\n        new PerformanceA(0),\r\n        new PerformanceB(0),\r\n        new GroupCourse(0),\r\n        new SmallCourse(0),\r\n        new PrivateCourse(0),\r\n        new EduTrainCourse(0),\r\n        new LearningSubsidy(0),\r\n        new OtherSubsidy(0),\r\n        new SickLeave(0),\r\n        new CompassionateLeave(0),\r\n        new LateForWork(0),\r\n        new Absenteeism(0),\r\n        new OtherDeduction(0),\r\n      ];\r\n  }\r\n}\r\n","import {\r\n  Absenteeism,\r\n  CompassionateLeave,\r\n  CourseCommission,\r\n  EduTrainCourse,\r\n  GroupCourse,\r\n  LateForWork,\r\n  LearningSubsidy,\r\n  OnDuty,\r\n  OtherDeduction,\r\n  OtherSubsidy,\r\n  PerformanceA,\r\n  PerformanceB,\r\n  PrivateCourse,\r\n  SalaryFactor,\r\n  SickLeave,\r\n  SmallCourse,\r\n  TotalSales,\r\n} from \"./SalaryFactor\";\r\nimport { EmployeeTitle, UserInfo } from \"./UserInfo\";\r\n\r\nexport function GetCourseSalary(user: UserInfo): number {\r\n  const { title, factors } = user;\r\n  if (title === EmployeeTitle.Salesman) return 0;\r\n\r\n  if (title === EmployeeTitle.FullTime) {\r\n    return CalcFullCourseSalary(\r\n      factors\r\n        .filter((f) => f.category === \"Course\")\r\n        .reduce((prev, cur) => prev + (cur.value > 0 ? cur.value : 0), 0)\r\n    );\r\n  }\r\n  if (title === EmployeeTitle.HalfTime) {\r\n    return CalcHalfTimeCourseSalary(\r\n      factors\r\n        .filter((f) => f.category === \"Course\")\r\n        .reduce((prev, cur) => prev + (cur.value > 0 ? cur.value : 0), 0)\r\n    );\r\n  }\r\n  if (title === EmployeeTitle.Director) {\r\n    return CalcDirectorCourseSalary(factors);\r\n  }\r\n  return factors\r\n    .filter((f) => f.category === \"Course\")\r\n    .reduce((prev, cur) => prev + cur.GetEarned(user), 0);\r\n}\r\n\r\nfunction CalcDirectorCourseSalary(factors: SalaryFactor[]): number {\r\n  let total = 0;\r\n  let rest = 20;\r\n\r\n  //团课\r\n  let factor = factors.find(f => f.id === \"GroupCourse\")!;\r\n  if (factor.value > 0) {\r\n    if (factor.value > rest) {\r\n      total += (factor.value - rest) * 70;\r\n      rest = 0;\r\n    } else {\r\n      rest -= factor.value;\r\n    }\r\n  }\r\n\r\n  // 小班\r\n  factor = factors.find(f => f.id === \"SmallCourse\")!;\r\n  if (factor.value > 0) {\r\n    if (factor.value > rest) {\r\n      total += (factor.value - rest) * 80;\r\n      rest = 0;\r\n    } else {\r\n      rest -= factor.value;\r\n    }\r\n  }\r\n\r\n  // 私教\r\n  factor = factors.find(f => f.id === \"PrivateCourse\")!;\r\n  if (factor.value > 0) {\r\n    if (factor.value > rest) {\r\n      total += (factor.value - rest) * 90;\r\n      rest = 0;\r\n    } else {\r\n      rest -= factor.value;\r\n    }\r\n  }\r\n  return total;\r\n}\r\n\r\nfunction CalcFullCourseSalary(course: number) {\r\n  if (course > 100)\r\n    return (\r\n      (course - 100) * 120 + 20 * 100 + 20 * 90 + 20 * 80 + 10 * 70 + 10 * 60\r\n    );\r\n  if (course > 80)\r\n    return (course - 80) * 100 + 20 * 90 + 20 * 80 + 10 * 70 + 10 * 60;\r\n  if (course > 60) return (course - 60) * 90 + 20 * 80 + 10 * 70 + 10 * 60;\r\n  if (course > 40) return (course - 40) * 80 + 10 * 70 + 10 * 60;\r\n  if (course > 30) return (course - 30) * 70 + 10 * 60;\r\n  if (course > 20) return (course - 30) * 60;\r\n  return 0;\r\n}\r\n\r\nfunction CalcHalfTimeCourseSalary(course: number): number {\r\n  if (course > 100)\r\n    return (\r\n      (course - 100) * 120 +\r\n      20 * 100 +\r\n      20 * 90 +\r\n      10 * 80 +\r\n      10 * 70 +\r\n      10 * 60 +\r\n      30 * 100\r\n    );\r\n  if (course > 80)\r\n    return (\r\n      (course - 80) * 100 + 20 * 90 + 10 * 80 + 10 * 70 + 10 * 60 + 30 * 100\r\n    );\r\n  if (course > 60)\r\n    return (course - 60) * 90 + 10 * 80 + 10 * 70 + 10 * 60 + 30 * 100;\r\n  if (course > 50) return (course - 50) * 80 + 10 * 70 + 10 * 60 + 30 * 100;\r\n  if (course > 40) return (course - 40) * 70 + 10 * 60 + 30 * 100;\r\n  if (course > 30) return (course - 30) * 60 + 30 * 100;\r\n  return course * 100;\r\n}\r\n\r\nexport function GetFactorEarned(\r\n  { id, value }: SalaryFactor,\r\n  user: UserInfo\r\n): number {\r\n  const factor = GetFactorInstance(id, value);\r\n  if (factor === null) return 0;\r\n  return factor.GetEarned(user);\r\n}\r\n\r\nexport function GetFactorInstance(\r\n  factorId: string,\r\n  value: number\r\n): SalaryFactor | null {\r\n  switch (factorId) {\r\n    case \"Performance\":\r\n      return new TotalSales(value);\r\n    case \"PerformanceA\":\r\n      return new PerformanceA(value);\r\n    case \"PerformanceB\":\r\n      return new PerformanceB(value);\r\n    case \"CourseCommission\":\r\n      return new CourseCommission(value);\r\n    case \"GroupCourse\":\r\n      return new GroupCourse(value);\r\n    case \"SmallCourse\":\r\n      return new SmallCourse(value);\r\n    case \"PrivateCourse\":\r\n      return new PrivateCourse(value);\r\n    case \"EduTrainCourse\":\r\n      return new EduTrainCourse(value);\r\n    case \"LearningSubsidy\":\r\n      return new LearningSubsidy(value);\r\n    case \"OtherSubsidy\":\r\n      return new OtherSubsidy(value);\r\n    case \"OnDuty\":\r\n      return new OnDuty(value);\r\n    case \"SickLeave\":\r\n      return new SickLeave(value);\r\n    case \"CompassionateLeave\":\r\n      return new CompassionateLeave(value);\r\n    case \"LateForWork\":\r\n      return new LateForWork(value);\r\n    case \"Absenteeism\":\r\n      return new Absenteeism(value);\r\n    case \"OtherDeduction\":\r\n      return new OtherDeduction(value);\r\n\r\n    default:\r\n      return null;\r\n  }\r\n}\r\n","import { Form, Input, Button, Select, DatePicker } from \"antd\";\nimport { Fragment } from \"react\";\n\nimport \"./App.css\";\nimport { BuildFactors, EmployeeTitle, UserInfo } from \"./models\";\n\nconst { Option } = Select;\n\nconst initValue = new UserInfo({ employee: \"Sang\" });\nexport const App = () => {\n  const [form] = Form.useForm<UserInfo>();\n  const onFinish = (values: any) => {\n    const data = form.getFieldsValue();\n    const userInfo = new UserInfo(data);\n    userInfo.CalcSalary();\n    form.setFieldsValue({ salary: userInfo.salary });\n    console.log(`${userInfo.employee} 本月应发 ${userInfo.salary}`);\n  };\n\n  const onFinishFailed = (errorInfo: any) => {\n    console.log(\"Failed:\", errorInfo);\n  };\n  const onTitleChanged = (title: EmployeeTitle) => {\n    form.setFieldsValue({ title: title, factors: BuildFactors(title) });\n  };\n  return (\n    <>\n      <main>\n        <Form\n          form={form}\n          labelCol={{ span: 4 }}\n          wrapperCol={{ span: 8 }}\n          initialValues={initValue}\n          onFinish={onFinish}\n          onFinishFailed={onFinishFailed}\n        >\n          <Form.Item label=\"姓名\" name=\"employee\" rules={[{ required: true }]}>\n            <Input placeholder=\"姓名\" />\n          </Form.Item>\n          <Form.Item\n            name=\"date\"\n            label=\"日期\"\n            labelCol={{ span: 4 }}\n            wrapperCol={{ span: 8 }}\n            rules={[\n              {\n                type: \"object\" as const,\n                required: true,\n                message: \"Please select time!\",\n              },\n            ]}\n          >\n            <DatePicker />\n          </Form.Item>\n          <Form.Item label=\"职位\" name=\"title\" rules={[{ required: true }]}>\n            <Select placeholder=\"选择一个职位\" onChange={onTitleChanged}>\n              <Option value=\"Director\">课程总监/店长老师</Option>\n              <Option value=\"FullTime\">全职老师</Option>\n              <Option value=\"HalfTime\">半职老师</Option>\n              <Option value=\"PartTime\">兼职老师</Option>\n              <Option value=\"Salesman\">销售人员</Option>\n              <Option value=\"Civilian\">文职人员</Option>\n            </Select>\n          </Form.Item>\n\n          <Form.Item label=\"实发薪资\" name=\"salary\">\n            <Input placeholder=\"实发薪资\" readOnly />\n          </Form.Item>\n\n          <Form.List name=\"factors\">\n            {(factors) => (\n              <>\n                {factors.map(({ key, name, fieldKey }, index) => (\n                  <Fragment key={key}>\n                    <Form.Item\n                      label={form.getFieldValue(\"factors\")[index].label}\n                      name={[name, \"value\"]}\n                      fieldKey={[fieldKey, \"value\"]}\n                      labelCol={{ span: 4 }}\n                      wrapperCol={{ span: 8 }}\n                    >\n                      <Input\n                        suffix={form.getFieldValue(\"factors\")[index].unit}\n                        autoComplete=\"off\"\n                      />\n                    </Form.Item>\n                  </Fragment>\n                ))}\n              </>\n            )}\n          </Form.List>\n          <Form.Item wrapperCol={{ offset: 4, span: 8 }}>\n            <Button type=\"primary\" htmlType=\"submit\">\n              计算\n            </Button>\n          </Form.Item>\n        </Form>\n      </main>\n    </>\n  );\n};\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport \"antd/dist/antd.css\";\n\nimport './index.css';\nimport {App} from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}